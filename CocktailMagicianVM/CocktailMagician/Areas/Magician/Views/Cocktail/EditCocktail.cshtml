@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model CocktailMagician.Areas.Magician.Models.EditCocktailViewModel

<div class="main-wrapper">

    <!-- start hero-header -->
    <div class="breadcrumb-wrapper">

        <div class="container">

            <ol class="breadcrumb-list">
                <li><a asp-action="Index" asp-controller="Home">Home</a></li>
                <li><span>Edit Cocktail</span></li>
            </ol>

        </div>

    </div>
    <!-- end hero-header -->
    <div class="login-container-wrapper">

        <div class="container">

            <div class="row">

                <div class="col-md-10 col-md-offset-1">

                    <div class="row">

                        <div class="col-sm-6 col-sm-offset-3">
                            <form id="form" asp-area="Magician" asp-action="Edit" asp-controller="Cocktail" method="post" enctype="multipart/form-data" autocomplete="off">

                                <div class="login-box-wrapper">

                                    <div class="modal-header">
                                        <h4 class="modal-title text-center">Edit Cocktail</h4>
                                    </div>

                                    <div class="modal-body">

                                        <div class="row gap-20">

                                            <div class="col-sm-12 col-md-12">

                                                <div class="form-group">
                                                    <label>Cocktail Name</label>
                                                    <input value="@Model.Name" asp-for="Name" class="form-control" placeholder="Enter name of the cocktail" type="text" id="cocktail-name">
                                                    <span asp-validation-for="Name" class="text-danger"></span>
                                                </div>

                                            </div>
                                            <div hidden="hidden">
                                                <input asp-for="Id" id="cocktail-id">
                                                <input asp-for="MainIngString" id="main-ing-list" />
                                                <input asp-for="IngString" id="ing-list" />
                                            </div>
                                            <div class="col-lg-6">
                                                <label>Primary Ingredient</label>
                                                <div class="form-group">
                                                    <div class="col-lg-12" style="padding:unset;" id="main-ingredients">
                                                        @for (int i = 1; i <= Model.MainIngredients.Count; i++)
                                                        {
                                                            <input value="@Model.MainIngredients[i-1]" class="form-control" oninput="EditCocktail()" placeholder="Primary ingredient" type="text" id="primary-@i">
                                                        }
                                                    </div>
                                                    <div class="update-product">
                                                        <a title="Add ingredient" onclick="addPrimaryIngredientField()">
                                                            <i class="fa fa-plus-circle">

                                                            </i>
                                                        </a>
                                                        <a title="Remove ingredient" onclick="removePrimaryIngredientField()">
                                                            <i class="fa fa-minus-circle">

                                                            </i>
                                                        </a>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="col-lg-6">
                                                <label>Ingredient</label>
                                                <div class="form-group">
                                                    <div class="col-lg-12" style="padding:unset;" id="ingredients">
                                                        @for (int i = 1; i <= Model.Ingredients.Count; i++)
                                                        {
                                                            <input value="@Model.Ingredients[i-1]" oninput="EditCocktail()" class="form-control" placeholder="Ingredient" type="text" id="ingredient-@i">
                                                        }
                                                    </div>
                                                    <div class="pull-left">

                                                        <div class="update-product">
                                                            <a title="Add ingredient" onclick="addIngredientField()">
                                                                <i class="fa fa-plus-circle">

                                                                </i>
                                                            </a>
                                                            <a title="Remove ingredient" onclick="removeIngredientField()">
                                                                <i class="fa fa-minus-circle">

                                                                </i>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-12 col-md-12">
                                                <div class="form-group">
                                                    <p>Upload cocktail photo:</p>
                                                    <input type="file" name="file" id="rand">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label>Description</label>
                                                <textarea class="form-control" asp-for="Description" placeholder="Enter bar description" type="text" rows="8" id="cocktail-description">@Model.Description</textarea>
                                                <span asp-validation-for="Description" class="text-danger"></span>
                                            </div>

                                        </div>
                                    </div>
                                    <div>

                                    </div>

                                    <div class="modal-footer text-center">
                                        <button type="submit" id="submit" @*onclick="addCocktail()"*@ class="btn btn-primary">Save Changes</button>
                                    </div>

                                </div>

                            </form>
                        </div>

                    </div>

                </div>

            </div>

        </div>
        <div hidden="hidden">
            <input id="primary-count" value="@Model.MainIngredients.Count">
            <input id="secondary-count" value="@Model.Ingredients.Count">
        </div>
    </div>
</div>
@section Scripts {
    <script type="text/javascript" src="~/js/CocktailEdit.js"></script>
    <script>
        const transparency = function () {
            $('body').attr('class', 'not-transparent-header');
        }
        window.onload = transparency;
    </script>
}



